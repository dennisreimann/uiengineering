mixin episode(episode)
  article.episode
    +episodeHeader(episode)
    +episodeMain(episode)
    +episodeFooter(episode)

mixin episodeHeader(episode)
  header.episode__header
    hgroup
      h2.episode__title [#{episode.shortId}] #{episode.title}
      if episode.subtitle
        h3.episode__subtitle= episode.subtitle

mixin episodeMain(episode)
  .episode__player
    img.episode__image(alt=title src=imagePath srcset=`${h.podcastImageUrl(episode.imageDir, 640)} 2x`)
    audio.episode__audio(controls="controls")
      source(src=mp3Path type="audio/mpeg")
  .episode__content!= episode.content

mixin episodeFooter(episode)
  footer.episode__footer
    p.episode__meta
      span Ver√∂ffentlicht am
      | &nbsp;
      time.episode__date= h.dateFormat.german(publishDate)
    .episode__nav
      - prevEpisode = episode.previousArticle
      - nextEpisode = episode.nextArticle
      h3.episode__nav__title Weitere Episoden
      ul
        for e in [nextEpisode, prevEpisode]
          if e
            li
              a.episode__link(href=e.permalink)
                span.episode__shortId [#{e.shortId}]
                | &nbsp;
                span.episode__title= e.title
